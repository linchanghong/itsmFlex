<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>CusUserSel.mxml</title>
<link rel="stylesheet" type="text/css" href="../../../../../SourceStyles.css"/>
</head>

<body><pre><span class="MXMLProcessing_Instruction">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="MXMLComponent_Tag">&lt;s:Group</span><span class="MXMLDefault_Text"> xmlns:fx="</span><span class="MXMLString">http://ns.adobe.com/mxml/2009</span><span class="MXMLDefault_Text">"
           xmlns:s="</span><span class="MXMLString">library://ns.adobe.com/flex/spark</span><span class="MXMLDefault_Text">"
           xmlns:mx="</span><span class="MXMLString">library://ns.adobe.com/flex/mx</span><span class="MXMLDefault_Text">"
           xmlns:base="</span><span class="MXMLString">com.itsm.flow.base.*</span><span class="MXMLDefault_Text">"
           xmlns:datagrid="</span><span class="MXMLString">common.components.datagrid.*</span><span class="MXMLDefault_Text">"
           width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" currentState="</span><span class="MXMLString">DeptUsers</span><span class="MXMLDefault_Text">" initialize="</span><span class="ActionScriptDefault_Text">initForm</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">" 
           </span><span class="MXMLComponent_Tag">&gt;</span>
<span class="MXMLSpecial_Tag">&lt;fx:Script&gt;</span>
    &lt;![CDATA[
        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">itsm</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">common</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">AppCore</span>;
        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">itsm</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">flow</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">app</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GlobalUtil</span>;
        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">services</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">IService</span>;
        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">services</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">base</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CusUsersService</span>;
        
        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">common</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FAppCoreUtil</span>;
        
        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">collections</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ArrayCollection</span>;
        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ItemClickEvent</span>;
        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ListEvent</span>;
        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">mx</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rpc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ResultEvent</span>;
        
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">MuliSel</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                                    <span class="ActionScriptComment">//是否多选
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hasSelUsersArr</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptComment">//选中人员数据集
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">UserIDArr</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptComment">//选择人员ID集
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">UserNameArr</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptComment">//选择人员名称集
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_WhereStr</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">""</span>;
        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptMetadata">Bindable</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">includeEffective</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                                <span class="ActionScriptComment">//是否包含禁用人员
</span>        <span class="ActionScriptASDoc">/**格式：1=1 and */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_WhereStrUserIds</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">""</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">FAppCore</span>:<span class="ActionScriptDefault_Text">GlobalUtil</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">GlobalUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getInstence</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
        
        <span class="ActionScriptComment">//默认部门选择方式
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initForm</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentState</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"DeptUsers"</span>;
            <span class="ActionScriptDefault_Text">DeptOrder</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        
        <span class="ActionScriptBracket/Brace">}</span> 
        
        <span class="ActionScriptComment">//设置选中部门
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">selDept</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">selDept</span>:<span class="ActionScriptDefault_Text">XML</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">DeptSel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedNode</span>;
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">Deptid</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">selDept</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">@</span><span class="ActionScriptDefault_Text">id</span>;
<span class="ActionScriptComment">//            var where:String = " Type=3 and  DeptID=" + Deptid;
</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">where</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">" org_id='"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">Deptid</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"'"</span>;
            <span class="ActionScriptDefault_Text">GridSel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">WhereStr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_WhereStrUserIds</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">where</span>;
            <span class="ActionScriptDefault_Text">GridSel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GridLoadData</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">//初始化Grid
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">initmyGrid</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">myGrid</span>:<span class="ActionScriptDefault_Text">CustomdataGrid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">CustomdataGrid</span>;
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">headerArr</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">"用户ID"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">"personId"</span><span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">FAppCoreUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fcInteger</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> 
                                        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">"用户名称"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">"personName"</span><span class="ActionScriptOperator">,</span> 100<span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">FAppCoreUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fcString</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span>
                                        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">"部门ID"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">"deptId"</span><span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">FAppCoreUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fcLookup</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> 
                                        <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">"部门名称"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">"deptName"</span><span class="ActionScriptOperator">,</span> 80<span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">FAppCoreUtil</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fcString</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
<span class="ActionScriptComment">//                                        ["EMOSS编号", "CODE", 70, "", FAppCoreUtil.fcString, ""],
</span><span class="ActionScriptComment">//                                        ["用户帐号", "UserCode", 70, "", FAppCoreUtil.fcString, ""], 
</span><span class="ActionScriptComment">//                                        ["创建时间", "CreateTime", 60, "", FAppCoreUtil.fcDate, ""]); 
</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">HeaderArray</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">headerArr</span>;                 <span class="ActionScriptComment">//显示字段
</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">RemoteService</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">CusUsersService</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"flowData"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">"FlowData"</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">RemoteDest</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"flowData"</span>;       <span class="ActionScriptComment">//远程目标
</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">RemoteSource</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"FlowData"</span>;      <span class="ActionScriptComment">//远程源
</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">RemoteOperation</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"GetPageData"</span>;     <span class="ActionScriptComment">//远程获取数据方法
</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CustomColumnsModuleName</span><span class="ActionScriptOperator">=</span><span class="ActionScriptString">"CusUserSel"</span>;    <span class="ActionScriptComment">//本模块名称，用于字段显示自定义
</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ShowUpGuide</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptComment">//显示上面的操作栏
</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ShowDownGuide</span><span class="ActionScriptOperator">=</span><span class="ActionScriptReserved">true</span>;                     <span class="ActionScriptComment">//显示下面的操作栏
</span>            <span class="ActionScriptComment">/*var WhereStr:String=" Type=3 and CompId="+FAppCore.FCusUser.CompId.toString();
            if(_WhereStr.length&gt;0) 
                WhereStr ="Type=3 and " + _WhereStr;    
            if (!includeEffective) WhereStr += " and Effective=1 ";
            myGrid.WhereStr = _WhereStrUserIds+WhereStr;  注释代改*/</span>
            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MuliSel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">MuliSel</span>;                        <span class="ActionScriptComment">//多选
</span><span class="ActionScriptComment">/*             if (MuliSel)
                myGrid.HasCheckBoxSel = true;
 */</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isPage</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                          <span class="ActionScriptComment">//多页或单页
</span>            <span class="ActionScriptComment">//**********该属性需从主窗体获取
</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">UserID</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">FAppCore</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">FCusUser</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">UserId</span><span class="ActionScriptBracket/Brace">)</span>;       <span class="ActionScriptComment">//当前用户ID
</span>            <span class="ActionScriptComment">//**************************
</span>            <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setNewQuickSearch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"用户编号/名称"</span><span class="ActionScriptOperator">,</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptString">"personName"</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">"personId"</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">id</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"GridSel2"</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">RemoteGetAllCount</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"GetAllCount"</span>;       <span class="ActionScriptComment">//远程获取记录数
</span>                <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isPage</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                           <span class="ActionScriptComment">//多页或单页
</span>                <span class="ActionScriptComment">//myGrid.ShowDownGuide=true;
</span>                <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isMulPage</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptComment">//多页取数或多页一次取数
</span>                <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PageCount</span> <span class="ActionScriptOperator">=</span> 20;                          <span class="ActionScriptComment">//每页显示数据
</span>                <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">AutoDataBind</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
            <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span> <span class="ActionScriptComment">//id== GridSel GetPageData方法(where ,order )
</span>                <span class="ActionScriptDefault_Text">myGrid</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SortAD</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">" PERSON_ID ASC"</span>; <span class="ActionScriptComment">//排序
</span>            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">//单选项，部门或人员模式
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">handleCard</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ItemClickEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span> 
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentTarget</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectedValue</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"DeptOrder"</span><span class="ActionScriptBracket/Brace">)</span> 
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentState</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"DeptUsers"</span>;
                <span class="ActionScriptDefault_Text">DeptOrder</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;    
            <span class="ActionScriptBracket/Brace">}</span> 
            <span class="ActionScriptReserved">else</span> 
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentState</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"UsersGrid"</span>;
                <span class="ActionScriptDefault_Text">hasSelUsersArr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">NameOrder</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selected</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
            <span class="ActionScriptBracket/Brace">}</span> 
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">//清除已选中的记录
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onClick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">hasSelUsersArr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">HasSelUsers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">//Grid点击，返回值
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onGridItemClick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span>:<span class="ActionScriptDefault_Text">ListEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">newSel</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">currentState</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"DeptUsers"</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptDefault_Text">newSel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">GridSel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SelectedItems</span>;
            <span class="ActionScriptReserved">else</span>
                <span class="ActionScriptDefault_Text">newSel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">GridSel2</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SelectedItems</span>;
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hassel</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">MuliSel</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptDefault_Text">hasSelUsersArr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>0;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">newSel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">hassel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
                <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">j</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>0;<span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;<span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">personId</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">newSel</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">personId</span><span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptBracket/Brace">{</span>
                        <span class="ActionScriptDefault_Text">hassel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
                        <span class="ActionScriptReserved">break</span>;
                    <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptBracket/Brace">}</span>
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">hassel</span><span class="ActionScriptBracket/Brace">)</span>
                <span class="ActionScriptBracket/Brace">{</span>
                    <span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">newSel</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptBracket/Brace">}</span>
            <span class="ActionScriptDefault_Text">HasSelUsers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;
            <span class="ActionScriptDefault_Text">UserIDArr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">UserNameArr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">X</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>0; <span class="ActionScriptDefault_Text">X</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;<span class="ActionScriptDefault_Text">X</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">HasSelUsers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">X</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">personName</span>;
                <span class="ActionScriptDefault_Text">UserIDArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">X</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">personId</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">UserNameArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">X</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">personName</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">X</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptDefault_Text">HasSelUsers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">","</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">//返回ID集字符串
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GetUsersIDStr</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">UserIDArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">//设置默认选中人员
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">SetUsersSel</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">selUsersStr</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">server</span>:<span class="ActionScriptDefault_Text">CusUsersService</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">CusUsersService</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"flowData"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">"FlowData"</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptComment">//此处采用对所有用户的查询中搜寻用户ID串，因为有可能是之前已经选择的用户已经锁定。
</span>            <span class="ActionScriptDefault_Text">server</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">GetAll</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"PERSON_ID in ("</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">selUsersStr</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">")"</span><span class="ActionScriptOperator">,</span><span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addResultListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">receivedRecords</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">//默认选择人员集
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">receivedRecords</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">result</span>:<span class="ActionScriptDefault_Text">ResultEvent</span> <span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
<span class="ActionScriptComment">//            hasSelUsersArr = result.result as Array;
</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">json</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">result</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">result</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">String</span>;
            <span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptOperator">=</span><span class="ActionScriptDefault_Text">JSON</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">parse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">json</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Array</span>;
            <span class="ActionScriptDefault_Text">HasSelUsers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;
            <span class="ActionScriptDefault_Text">UserIDArr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">UserNameArr</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">X</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span>0; <span class="ActionScriptDefault_Text">X</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;<span class="ActionScriptDefault_Text">X</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">HasSelUsers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">X</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">personName</span>;
                <span class="ActionScriptDefault_Text">UserIDArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">X</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">personId</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptDefault_Text">UserNameArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">X</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">personName</span><span class="ActionScriptBracket/Brace">)</span>;
                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">X</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">hasSelUsersArr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>
                    <span class="ActionScriptDefault_Text">HasSelUsers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">","</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
    <span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">&gt;</span>
<span class="MXMLSpecial_Tag">&lt;/fx:Script&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;fx:Declarations&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:RadioButtonGroup</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">User</span><span class="MXMLDefault_Text">" itemClick="</span><span class="ActionScriptDefault_Text">handleCard</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span>;<span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;mx:SetProperty</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">selected</span><span class="MXMLDefault_Text">" target="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">NameOrder</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" value="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLSpecial_Tag">&lt;/fx:Declarations&gt;</span>
    <span class="MXMLComponent_Tag">&lt;s:states&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:State</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">DeptUsers</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;s:State</span><span class="MXMLDefault_Text"> name="</span><span class="MXMLString">UsersGrid</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/s:states&gt;</span>
    <span class="MXMLComponent_Tag">&lt;s:VGroup</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        
        <span class="MXMLComponent_Tag">&lt;s:HGroup</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">hbox1</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">25</span><span class="MXMLDefault_Text">" fontSize="</span><span class="MXMLString">12</span><span class="MXMLDefault_Text">" gap="</span><span class="MXMLString">2</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:RadioButton</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">DeptOrder</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">113</span><span class="MXMLDefault_Text">" label="</span><span class="MXMLString">以部门人员排序</span><span class="MXMLDefault_Text">" groupName="</span><span class="MXMLString">User</span><span class="MXMLDefault_Text">"
                            value="</span><span class="MXMLString">DeptOrder</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:RadioButton</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">NameOrder</span><span class="MXMLDefault_Text">" label="</span><span class="MXMLString">以人员姓氏拼音排序</span><span class="MXMLDefault_Text">" groupName="</span><span class="MXMLString">User</span><span class="MXMLDefault_Text">" value="</span><span class="MXMLString">NameOrder</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:TextInput</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">HasSelUsers</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" editable="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
            <span class="MXMLComponent_Tag">&lt;s:Button</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">tempbtn</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">56</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">23</span><span class="MXMLDefault_Text">" label="</span><span class="MXMLString">清除</span><span class="MXMLDefault_Text">" click="</span><span class="ActionScriptDefault_Text">onClick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">/&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/s:HGroup&gt;</span>
        
        <span class="MXMLComponent_Tag">&lt;mx:HDividedBox</span><span class="MXMLDefault_Text"> width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" includeIn="</span><span class="MXMLString">DeptUsers</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span> 
            <span class="MXMLComponent_Tag">&lt;base:DeptsSelect</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">DeptSel</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">184</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                             AllOrEffective="</span><span class="MXMLString">{</span><span class="ActionScriptDefault_Text">includeEffective</span><span class="MXMLString">}</span><span class="MXMLDefault_Text">" Check="</span><span class="MXMLString">false</span><span class="MXMLDefault_Text">"
                             SetSelDeptsData="</span><span class="ActionScriptDefault_Text">selDept</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/base:DeptsSelect&gt;</span>
            <span class="MXMLComponent_Tag">&lt;datagrid:CustomdataGrid</span><span class="MXMLDefault_Text"> id="</span><span class="MXMLString">GridSel</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                     initGrid="</span><span class="ActionScriptDefault_Text">initmyGrid</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                     ItemClick="</span><span class="ActionScriptDefault_Text">onGridItemClick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
            <span class="MXMLComponent_Tag">&lt;/datagrid:CustomdataGrid&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/mx:HDividedBox&gt;</span>
        
        <span class="MXMLComponent_Tag">&lt;datagrid:CustomdataGrid</span><span class="MXMLDefault_Text"> includeIn="</span><span class="MXMLString">UsersGrid</span><span class="MXMLDefault_Text">" id="</span><span class="MXMLString">GridSel2</span><span class="MXMLDefault_Text">" width="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">" height="</span><span class="MXMLString">100%</span><span class="MXMLDefault_Text">"
                                 initGrid="</span><span class="ActionScriptDefault_Text">initmyGrid</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"
                                 ItemClick="</span><span class="ActionScriptDefault_Text">onGridItemClick</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">event</span><span class="ActionScriptBracket/Brace">)</span><span class="MXMLDefault_Text">"</span><span class="MXMLComponent_Tag">&gt;</span>
        <span class="MXMLComponent_Tag">&lt;/datagrid:CustomdataGrid&gt;</span>
    <span class="MXMLComponent_Tag">&lt;/s:VGroup&gt;</span>
<span class="MXMLComponent_Tag">&lt;/s:Group&gt;</span></pre></body>
</html>
